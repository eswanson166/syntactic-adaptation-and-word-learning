aes(ymin = YMin, ymax = YMax), width = .25)
test_action_sum_trial <- test_data_uniq %>%
group_by(condition, trial_name) %>%
summarise(cond_prop_action = mean(trial_prop_action),
sd = sd(trial_prop_action),
CI.Low = ci.low(trial_prop_action),
CI.High = ci.high(trial_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(test_action_sum_trial) +
aes(x = condition, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity") +
facet_wrap(trial_name ~ .) +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Test trials: Participants' mean proportion of looks to action image") +
xlab("Condition") +
ylab("Mean proportion of looks") +
geom_point(data = test_data_uniq, aes(x = condition, y = trial_prop_action),
shape = 21, size = .3) +
geom_errorbar(data = test_action_sum_trial,
aes(ymin = YMin, ymax = YMax), width = .25)
test_action_sum_item <- test_data_uniq %>%
group_by(condition, img_pair_name) %>%
summarise(cond_prop_action = mean(trial_prop_action),
sd = sd(trial_prop_action),
CI.Low = ci.low(trial_prop_action),
CI.High = ci.high(trial_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(test_action_sum_item) +
aes(x = condition, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity") +
facet_wrap(img_pair_name ~ .) +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Participants' mean proportion of looks to action image by item") +
xlab("Condition") +
ylab("Mean proportion of looks") +
geom_point(data = test_data_uniq, aes(x = condition, y = trial_prop_action),
shape = 21, size = .3) +
geom_errorbar(data = test_action_sum_item,
aes(ymin = YMin, ymax = YMax), width = .25)
test_data_uniq <- test_data_uniq %>% mutate(accuracy_group = case_when(
accuracy < 65 ~ "Low (50-64%)",
accuracy >= 65 ~ "High (over 65%)"
))
test_action_sum_acc <- test_data_uniq %>% group_by(participant_id) %>%
filter(row_number() == 1) %>%
group_by(condition, accuracy_group) %>%
summarise(cond_prop_action = mean(subj_prop_action),
sd = sd(subj_prop_action),
CI.Low = ci.low(subj_prop_action),
CI.High = ci.high(subj_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(test_action_sum_acc) +
aes(x = condition, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity") +
facet_wrap(accuracy_group ~ .) +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Test trials: Participants' mean proportion of looks to action image by accuracy group") +
xlab("Condition") +
ylab("Mean proportion of looks") +
geom_point(data = test_data_uniq, aes(x = condition, y = subj_prop_action),
shape = 21, size = .3) +
geom_errorbar(data = test_action_sum_acc,
aes(ymin = YMin, ymax = YMax), width = .25)
girls_end = mean(test_data_uniq$frame_end - test_data_uniq$frame_start)
novel_word_end = mean(test_data_uniq$novel_word_end - test_data_uniq$frame_start)
test_data <- test_data %>%
mutate(time_since_disambig = time_since_trial_start - trial_frame_start)
test_data_timecourse <- test_data %>% filter(time_since_disambig <= 6250) %>%
mutate(timebin = plyr::round_any(time_since_disambig, 50))
prop_action_timecourse_sum_trial <- test_data_timecourse %>%
group_by(timebin, condition, trial_name) %>%
summarise(timebin_prop_action_look = mean(look_action_img))
ggplot(prop_action_timecourse_sum_trial) +
aes(x = timebin, y = timebin_prop_action_look, color = condition) +
geom_point(size = .2) +
geom_smooth(size = .2) +
facet_grid(trial_name ~ .) +
ggtitle("Proportion of looks to action image on test trials") +
xlab("Time since syntactic frame disambiguation (ms) during event phase") +
ylab("Mean proportion of looks") +
scale_color_manual(name="Condition", values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
geom_hline(yintercept = .5, linetype = "dashed") +
geom_vline(xintercept = 0) +
geom_vline(xintercept = girls_end, linetype = "dashed") +
geom_vline(xintercept = novel_word_end, linetype= "dotted")
prop_action_timecourse_sum_trial <- test_data_timecourse %>%
group_by(timebin, condition, trial_name) %>%
summarise(timebin_prop_action = mean(look_action_img))
ggplot(prop_action_timecourse_sum_trial) +
aes(x = timebin, y = timebin_prop_action, color = condition) +
geom_point(size = .2) +
geom_smooth(size = .2) +
facet_grid(trial_name ~ .) +
ggtitle("Proportion of looks to action image on test trials") +
xlab("Time since syntactic frame disambiguation (ms) during event phase") +
ylab("Mean proportion of looks") +
scale_color_manual(name="Condition", values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
geom_hline(yintercept = .5, linetype = "dashed") +
geom_vline(xintercept = 0) +
geom_vline(xintercept = girls_end, linetype = "dashed") +
geom_vline(xintercept = novel_word_end, linetype= "dotted")
prop_action_timecourse_sum <- test_data_timecourse %>%
group_by(timebin, condition) %>%
summarise(timebin_prop_action = mean(look_action_img))
ggplot(prop_action_timecourse_sum) +
aes(x = timebin, y = timebin_prop_action, color = condition) +
geom_point(size = .3) +
geom_smooth() +
ggtitle("Exp 2 time course: Proportion of looks to action image on test trials") +
xlab("Time since onset of ambiguous syntactic frame (ms)") +
ylab("") +
scale_color_manual(name="Condition", values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
geom_hline(yintercept = .5, linetype = "dashed") +
geom_vline(xintercept = 0, colour = "black") +
# mean end of 'the g-'
geom_vline(xintercept = girls_end, linetype = "dashed") +
# mean end of 'the girls'
geom_vline(xintercept = novel_word_end, linetype= "dotted") +
# mean end of novel word
scale_x_continuous(breaks = seq(min(prop_action_timecourse_sum$timebin),
max(prop_action_timecourse_sum$timebin), by = 1000))
train_data <- et_data %>% filter(target_audio_type != "novel",
look_left_img == TRUE |
look_right_img == TRUE)
train_data <- train_data %>% mutate(trial_name = case_when(
trial_no == 1 ~ "Trial 1",
trial_no == 2 ~ "Trial 2",
trial_no == 3 ~ "Trial 3",
trial_no == 4 ~ "Trial 4",
trial_no == 5 ~ "Trial 5",
trial_no == 6 ~ "Trial 6",
trial_no == 7 ~ "Trial 7",
trial_no == 8 ~ "Trial 8"
))
train_data$trial_name <- factor(train_data$trial_name, levels = c("Trial 1", "Trial 2", "Trial 3", "Trial 4", "Trial 5", "Trial 6", "Trial 7", "Trial 8"))
train_event <- train_data %>%
filter(trial_stage == "event")
train_event <- train_event %>%
group_by(participant_id, trial_no) %>%
mutate(trial_prop_action = mean(look_action_img))
train_event_uniq <- train_event %>%
group_by(participant_id, trial_no) %>%
filter(row_number() == 1) %>% group_by(participant_id, trial_type) %>%
mutate(subj_prop_action = mean(trial_prop_action))
train_action_sum <- train_event_uniq %>%
group_by(participant_id, trial_type) %>%
filter(row_number() == 1) %>% group_by(condition, trial_type) %>%
summarise(cond_prop_action = mean(subj_prop_action),
sd = sd(subj_prop_action),
CI.Low = ci.low(subj_prop_action),
CI.High = ci.high(subj_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(train_action_sum) +
aes(x = trial_type, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity", position = "dodge") +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Training trials: Participants' mean proportion of looks to action image") +
xlab("Condition") +
ylab("Mean proportion of looks") +
geom_errorbar(data = train_action_sum,
aes(ymin = YMin, ymax = YMax), position = position_dodge(0.9), width = .25)
train_action_sum_trial <- train_event_uniq %>%
group_by(condition, trial_name, trial_type) %>%
summarise(cond_prop_action = mean(trial_prop_action),
sd = sd(trial_prop_action),
CI.Low = ci.low(trial_prop_action),
CI.High = ci.high(trial_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(train_action_sum_trial) +
aes(x = trial_type, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(trial_name ~ .) +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Test trials: Participants' mean proportion of looks to action image") +
xlab("Condition") +
ylab("Mean proportion of looks") +
geom_point(data = train_event_uniq, aes(x = trial_type, y = trial_prop_action),
shape = 21, size = .3) +
geom_errorbar(data = train_action_sum_trial,
aes(ymin = YMin, ymax = YMax), width = .25) +
theme(axis.text.x = element_text(angle = 60, hjust = 1))
train_action_sum_trial_sm <- train_event_uniq %>% filter(trial_no <= 4) %>%
group_by(condition, trial_name, trial_type) %>%
summarise(cond_prop_action = mean(trial_prop_action),
sd = sd(trial_prop_action),
CI.Low = ci.low(trial_prop_action),
CI.High = ci.high(trial_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(train_action_sum_trial_sm) +
aes(x = trial_type, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity", position = "dodge") +
facet_wrap(trial_name ~ .) +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Test trials: Participants' mean proportion of looks to action image") +
xlab("Condition") +
theme(axis.text.x = element_text(angle = 60, hjust = 1)) +
ylab("Mean proportion of looks") +
geom_errorbar(data = train_action_sum_trial_sm,
aes(ymin = YMin, ymax = YMax), width = .25, position = position_dodge(0.75))
preview_data <- train_data %>% filter(trial_stage == "left_preview" |
trial_stage == "right_preview")
preview_data <- preview_data %>%
mutate(action_preview = (trial_stage == "left_preview" &
action_img == "left") |
(trial_stage == "right_preview" &
action_img == "right"))
preview_data <- preview_data %>% group_by(participant_id, trial_no, action_preview) %>% mutate(trial_prop_action = mean(look_action_img),
trial_prop_object = mean(look_object_img))
preview_data_uniq = preview_data %>%
group_by(participant_id, action_preview, trial_no) %>%
filter(row_number() == 1) %>%
mutate(subj_prop_action = mean(trial_prop_action),
subj_prop_object = mean(trial_prop_object))
preview_sum <- preview_data_uniq %>%
group_by(participant_id, action_preview) %>%
filter(row_number() == 1) %>%
group_by(condition, action_preview) %>%
summarise(cond_prop_action = mean(subj_prop_action),
CI.Low = ci.low(subj_prop_action),
CI.High = ci.high(subj_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(preview_sum) +
aes(x = action_preview, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity", position = "dodge") +
ggtitle("Training trials: Mean proportion of looks during image previews") +
xlab("Type of image preview") +
ylab("Mean proportion of looks") +
scale_fill_manual(name="Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
scale_x_discrete(labels = c("Object image", "Action image")) +
geom_errorbar(aes(ymin = YMin, ymax = YMax), width = .25,
position = position_dodge(width = .9))
filler_data <- et_data %>% filter(target_audio_type == "noun_filler" |
target_audio_type == "verb_filler",
trial_stage == "event",
look_left_img == TRUE |
look_right_img == TRUE)
filler_data <- filler_data %>% group_by(participant_id, trial_no) %>% mutate(trial_prop_action = mean(look_action_img))
filler_data_uniq <- filler_data %>%
group_by(participant_id, trial_no) %>%
filter(row_number() == 1) %>%
group_by(participant_id) %>%
mutate(subj_prop_action = mean(trial_prop_action))
filler_sum <- filler_data_uniq %>% group_by(participant_id) %>%
filter(row_number() == 1) %>%
group_by(condition) %>%
summarise(cond_prop_action = mean(subj_prop_action),
sd = sd(subj_prop_action),
CI.Low = ci.low(subj_prop_action),
CI.High = ci.high(subj_prop_action),
n = n()) %>%
mutate(YMin = cond_prop_action - CI.Low,
YMax = cond_prop_action + CI.High)
ggplot(filler_sum) +
aes(x = condition, y = cond_prop_action, fill = condition) +
geom_bar(stat = "identity") +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Filler trials: Mean proportion of looks to action video") +
xlab("Condition") +
ylab("Mean proportion of looks") +
geom_point(data = filler_data_uniq, aes(x = condition, y = subj_prop_action),
shape = 21, size = .3) +
geom_errorbar(data = filler_sum,
aes(ymin = YMin, ymax = YMax), width = .25)
object_imgs = c("shoe", "doll", "hat", "ball", "book", "dog", "box", "horse", "vash_noun", "dax_noun", "smick_noun", "nup_noun", "fep_noun")
action_imgs = c("read", "drink", "wave", "cry", "sit", "eat", "sleep", "draw", "vash_verb", "dax_verb", "smick_verb", "nup_verb", "fep_verb")
et_data <- et_data %>% mutate(clicked_img_type = case_when(
clicked_img %in% object_imgs ~ "object",
clicked_img %in% action_imgs ~ "action",
))
clicked_img_sum <- et_data %>% group_by(condition, clicked_img_type) %>%
summarise(n = length(unique(participant_id))) %>% filter(!is.na(clicked_img_type))
clicked_img_sum <- clicked_img_sum %>% group_by(condition) %>% mutate(total = sum(n))
clicked_img_sum <- clicked_img_sum %>%
mutate(proportion = n/total,
CI.Low = proportion + 1.96*sqrt(proportion*(1-proportion)/total),
CI.High = proportion - 1.96*sqrt(proportion*(1-proportion)/total))
clicked_img_sum = clicked_img_sum %>% filter(clicked_img_type == "action")
ggplot(clicked_img_sum) +
aes(x = condition, y = proportion, fill = condition) +
geom_bar(stat = "identity", position = "dodge") +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1:2], "dodgerblue3")) +
ggtitle("Proportion selecting action image on explicit selection trial") +
xlab("Condition") +
ylab("Proportion of participants") +
geom_errorbar(data = clicked_img_sum,
aes(ymin = CI.Low, ymax = CI.High),
position = position_dodge(width = .9), width=.2)
diff_prop_action_data <- test_data %>% group_by(participant_id, trial_no) %>%
filter(time_since_trial_start <= trial_frame_start + 9000) %>%
mutate(pre_frame_prop = mean(na.omit(look_action_img[time_since_trial_start < trial_frame_start])), # before frame
post_frame_prop = mean(na.omit(look_action_img[time_since_trial_start >= trial_frame_start]))) # after frame
diff_prop_action_data = diff_prop_action_data %>%
group_by(participant_id, trial_no) %>%
mutate(trial_diff_prop_action = post_frame_prop - pre_frame_prop) %>%
filter(row_number() == 1)
diff_prop_action_data = diff_prop_action_data %>%
group_by(participant_id) %>%
mutate(subj_diff_prop_action = mean(trial_diff_prop_action))
diff_prop_action_data = diff_prop_action_data %>% mutate(girls_end = girls_end, novel_word_end = novel_word_end)
diff_prop_action_look_sum = diff_prop_action_data %>%
group_by(participant_id) %>%
filter(row_number() == 1) %>%
group_by(condition) %>%
summarise(sd = sd(na.omit(subj_diff_prop_action)),
cond_diff_prop_action = mean(na.omit(subj_diff_prop_action)),
CI.Low = ci.low(na.omit(subj_diff_prop_action)),
CI.High = ci.high(na.omit(subj_diff_prop_action)),
n = n())  %>%
mutate(YMin = cond_diff_prop_action - CI.Low,
YMax = cond_diff_prop_action + CI.High)
diff_prop_action_sum = diff_prop_action_data %>%
group_by(participant_id) %>%
filter(row_number() == 1) %>%
group_by(condition) %>%
summarise(sd = sd(na.omit(subj_diff_prop_action)),
cond_diff_prop_action = mean(na.omit(subj_diff_prop_action)),
CI.Low = ci.low(na.omit(subj_diff_prop_action)),
CI.High = ci.high(na.omit(subj_diff_prop_action)),
n = n())  %>%
mutate(YMin = cond_diff_prop_action - CI.Low,
YMax = cond_diff_prop_action + CI.High)
ggplot(diff_prop_action_sum) +
aes(x = condition, y = cond_diff_action_look, fill = condition) +
geom_bar(stat = "identity") +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Adults: Difference in mean proportion of looks to action image") +
xlab("Condition") +
ylab(" Diff. in mean prop. of looks before vs. after syntactic frame") +
geom_point(data = diff_prop_action_data, aes(x = condition, y = subj_diff_prop_action), shape = 21, size = .5) +
geom_errorbar(data = diff_prop_action_look_sum,
aes(ymin = YMin, ymax = YMax), width = .25)
ggplot(diff_prop_action_sum) +
aes(x = condition, y = cond_diff_prop_action, fill = condition) +
geom_bar(stat = "identity") +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Adults: Difference in mean proportion of looks to action image") +
xlab("Condition") +
ylab(" Diff. in mean prop. of looks before vs. after syntactic frame") +
geom_point(data = diff_prop_action_data, aes(x = condition, y = subj_diff_prop_action), shape = 21, size = .5) +
geom_errorbar(data = diff_prop_action_look_sum,
aes(ymin = YMin, ymax = YMax), width = .25)
ggplot(diff_prop_action_sum) +
aes(x = condition, y = cond_diff_prop_action, fill = condition) +
geom_bar(stat = "identity") +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Adults: Difference in mean proportion of looks to action image") +
xlab("Condition") +
ylab(" Diff. in mean prop. of looks before vs. after syntactic frame") +
geom_point(data = diff_prop_action_data, aes(x = condition, y = subj_diff_prop_action), shape = 21, size = .5) +
geom_errorbar(data = diff_prop_action_sum,
aes(ymin = YMin, ymax = YMax), width = .25)
rm(list = ls())
setwd("~/Documents/honors-thesis/syntactic-adaptation-and-word-learning/analysis/3_children_english/scripts")
knitr::opts_chunk$set(echo = TRUE)
library(knitr)
library(tidyverse)
library(wesanderson)
library(gridExtra)
library(ggpubr)
library(grid)
source("helpers.R")
theme_set(theme_bw())
full_test_data = read.csv('../data/full_test_data.csv', stringsAsFactors = TRUE)
full_test_data <- full_test_data %>% mutate(frame_start = case_when(
trial_audio == "dax" ~ 2016,
trial_audio == "vash" ~ 1994,
trial_audio == "smick" ~ 1987,
trial_audio == "nup" ~ 1992))
full_test_data <- full_test_data %>% mutate(frame_end = case_when(
trial_audio == "dax" ~ 2497,
trial_audio == "vash" ~ 2472,
trial_audio == "smick" ~ 2485,
trial_audio == "nup" ~ 2443))
full_test_data <- full_test_data %>% mutate(novel_word_end = case_when(
trial_audio == "ball" ~ 2828,
trial_audio == "ball_filler" ~ 3239,
trial_audio == "book" ~ 3142,
trial_audio == "book_filler" ~ 3279,
trial_audio == "box" ~ 3381,
trial_audio == "box_filler" ~ 3386,
trial_audio == "cry" ~ 3253,
trial_audio == "cry_filler" ~ 3183,
trial_audio == "dog" ~ 3240,
trial_audio == "dog_filler" ~ 3352,
trial_audio == "draw" ~ 3137,
trial_audio == "draw_filler" ~ 2935,
trial_audio == "drink" ~ 3116,
trial_audio == "drink_filler" ~ 2881,
trial_audio == "eat" ~ 3189,
trial_audio == "eat_filler" ~ 2814,
trial_audio == "dax" ~ 3354,
trial_audio == "fep" ~ 3087,
trial_audio == "hat" ~ 3205,
trial_audio == "hat_filler" ~ 3409,
trial_audio == "heth" ~ 3078,
trial_audio == "horse" ~ 3276,
trial_audio == "horse_filler" ~ 3459,
trial_audio == "moop" ~ 2844,
trial_audio == "nup" ~ 2996,
trial_audio == "read" ~ 3279,
trial_audio == "read_filler" ~ 3035,
trial_audio == "shoe" ~ 3453,
trial_audio == "shoe_filler" ~ 3136,
trial_audio == "sit" ~ 3229,
trial_audio == "sit_filler" ~ 2948,
trial_audio == "sleep" ~ 3281,
trial_audio == "sleep_filler" ~ 2991,
trial_audio == "smick" ~ 3261,
trial_audio == "vash" ~ 3275,
trial_audio == "wave" ~ 3284,
trial_audio == "wave_filler" ~ 2824
))
event_data = full_test_data %>%
mutate(trial_frame_start = trial_start_video + frame_start,
trial_frame_end = trial_start_video + frame_end,
one_look_length = look_end - look_start)
event_data = event_data %>%
mutate(time_since_frame_start = look_start - trial_frame_start)
girls_end = mean(event_data$frame_end - event_data$frame_start)
novel_word_end = mean(event_data$novel_word_end - event_data$frame_start)
one_look_length = event_data$look_interval
event_data = event_data %>% group_by(subid, trial_no) %>%
mutate(away_look_length = sum(look_dir == "away")*one_look_length) %>%
filter(away_look_length < .5*(trial_end_video - trial_start_video))
event_data = event_data %>% filter(look_dir == "left" | look_dir == "right")
event_data$look_dir = factor(event_data$look_dir, levels = c("left", "right"))
event_data = event_data %>% filter(time_since_frame_start <= 6000)
event_data <- event_data %>% group_by(subid, trial_no) %>%
mutate(look_action_img = ifelse(look_dir == verb_image_position, TRUE, FALSE))
event_data_timecourse <- event_data %>%
mutate(timebin = plyr::round_any(time_since_frame_start, 50))
timecourse_sum_trial <- event_data_timecourse %>%
group_by(timebin, condition, trial_no) %>%
summarise(timebin_prop_action = mean(look_action_img),
n = n())
ggplot(timecourse_sum_trial) +
aes(x = timebin, y = timebin_prop_action, color = condition) +
geom_point(size = .2) +
geom_smooth(size = .2) +
facet_grid(trial_no ~ .) +
ggtitle("Proportion of looks to action image on test trials") +
xlab("Time since syntactic frame disambiguation (ms) during event phase") +
ylab("Condition") +
scale_color_manual(name="Condition", values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dark blue")) +
geom_hline(yintercept = .5, linetype = "dashed") +
geom_vline(xintercept = 0) +
ylim(c(0, 1))
timecourse_sum <- event_data_timecourse %>%
group_by(timebin, condition) %>%
summarise(timebin_prop_action = mean(look_action_img))  %>%
mutate(girls_end = girls_end, novel_word_end = novel_word_end)
ggplot(timecourse_sum) +
aes(x = timebin, y = timebin_prop_action, color = condition) +
geom_point(size = .3) +
geom_smooth() +
ggtitle("Time course: Proportion of looks to action image") +
xlab("Time since onset of ambiguous syntactic frame (ms)") +
ylab("Proportion of looks to action image") +
scale_color_manual(name="Condition", values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
geom_hline(yintercept = .5, linetype = "dashed") +
geom_vline(xintercept = 0, color = "black") +
ylim(c(0, 1)) +
geom_vline(xintercept = girls_end, linetype = "dashed") +
geom_vline(xintercept = novel_word_end, linetype= "dotted") +
scale_x_continuous(breaks = seq(min(timecourse_sum$timebin),
max(timecourse_sum$timebin), by = 1000))
event_data_disambig = event_data %>% filter(look_start >= trial_frame_start)
write.csv(timecourse_sum, "./../../4_all_experiments/data/exp3_timecourse.csv")
diff_prop_action_data = event_data %>% group_by(subid, trial_no) %>%
mutate(pre_frame_prop = mean(na.omit(look_action_img[look_start < trial_frame_start])),
post_frame_prop = mean(na.omit(look_action_img[look_start >= trial_frame_start])))
diff_prop_action_data = diff_prop_action_data %>% group_by(subid, trial_no) %>%
mutate(trial_diff_prop_action = post_frame_prop - pre_frame_prop) %>%
filter(row_number() == 1)
diff_prop_action_data = diff_prop_action_data %>% group_by(subid) %>%
mutate(subj_diff_prop_action = mean(trial_diff_prop_action))
diff_prop_action_look_sum = diff_prop_action_data %>%
filter(row_number() == 1) %>%
group_by(condition) %>%
summarise(cond_diff_prop_action = mean(na.omit(subj_diff_prop_action)),
sd = sd(na.omit(subj_diff_prop_action)),
CI.Low = ci.low(na.omit(subj_diff_prop_action)),
CI.High = ci.high(na.omit(subj_diff_prop_action)),
n = n())  %>%
mutate(YMin = cond_diff_prop_action - CI.Low,
YMax = cond_diff_prop_action + CI.High)
ggplot(diff_prop_action_look_sum) +
aes(x = condition, y = cond_diff_prop_action, fill = condition) +
geom_bar(stat = "identity") +
scale_fill_manual(name = "Condition",values = c(wes_palette("Royal1")[1], wes_palette("Royal1")[2], "dodgerblue3")) +
ggtitle("Children: Difference in mean proportion of looks to action image") +
xlab("Condition") +
ylab("Diff. in mean prop. of looks before vs. after syntactic frame") +
geom_point(data = diff_prop_action_data, aes(x = condition, y = subj_diff_prop_action), shape = 21, size = .5) +
geom_errorbar(data = diff_prop_action_look_sum,
aes(ymin = YMin, ymax = YMax), width = .25)
write.csv(diff_prop_action_data, "../data/diff_prop_action_data.csv")
write.csv(diff_prop_action_data, "../../4_all_experiments/data/exp3_diff_prop_action.csv")
